\c opentenbase_ora_package_function_regression_ora
select dbms_assert.enquote_literal('some text '' some text') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_name('''"AAA') from dual;
 ENQUOTE_NAME 
--------------
 "'""AAA"
(1 row)

select dbms_assert.enquote_name('''"AAA', false) from dual;
 ENQUOTE_NAME 
--------------
 "'""AAA"
(1 row)

select dbms_assert.enquote_name('''"AAA', true) from dual;
 ENQUOTE_NAME 
--------------
 "'""aaa"
(1 row)

select dbms_assert.noop('some string') from dual;
    NOOP     
-------------
 some string
(1 row)

select dbms_assert.qualified_sql_name('aaa.bbb.ccc."aaaa""aaa"') from dual;
   QUALIFIED_SQL_NAME    
-------------------------
 aaa.bbb.ccc."aaaa""aaa"
(1 row)

select dbms_assert.qualified_sql_name('aaa.bbb.cc%c."aaaa""aaa"') from dual;
ERROR:  string is not qualified SQL name
select dbms_assert.schema_name('dbms_assert') from dual;
 SCHEMA_NAME 
-------------
 dbms_assert
(1 row)

select dbms_assert.schema_name('jabadabado') from dual;
ERROR:  invalid schema name
select dbms_assert.simple_sql_name('"Aaa dghh shsh"') from dual;
 SIMPLE_SQL_NAME 
-----------------
 "Aaa dghh shsh"
(1 row)

select dbms_assert.simple_sql_name('ajajaj -- ajaj') from dual;
ERROR:  string is not simple SQL name
select dbms_assert.sql_object_name('pg_catalog.pg_class') from dual;
   SQL_OBJECT_NAME   
---------------------
 pg_catalog.pg_class
(1 row)

select dbms_assert.sql_object_name('dbms_assert.fooo') form dual;
ERROR:  syntax error at or near "dual"
LINE 1: ...t dbms_assert.sql_object_name('dbms_assert.fooo') form dual;
                                                                  ^
select dbms_assert.enquote_literal(NULL) from dual;
 ENQUOTE_LITERAL 
-----------------
 
(1 row)

select dbms_assert.enquote_name(NULL) from dual;
 ENQUOTE_NAME 
--------------
 
(1 row)

select dbms_assert.enquote_name(NULL, false) form dual;
ERROR:  syntax error at or near "dual"
LINE 1: select dbms_assert.enquote_name(NULL, false) form dual;
                                                          ^
select dbms_assert.noop(NULL) from dual;
 NOOP 
------
 
(1 row)

select dbms_assert.qualified_sql_name(NULL) from dual;
ERROR:  string is not qualified SQL name
select dbms_assert.qualified_sql_name(NULL) from dual;
ERROR:  string is not qualified SQL name
select dbms_assert.schema_name(NULL) from dual;
ERROR:  invalid schema name
select dbms_assert.schema_name(NULL) from dual;
ERROR:  invalid schema name
select dbms_assert.simple_sql_name(NULL) from dual;
ERROR:  string is not simple SQL name
select dbms_assert.simple_sql_name(NULL) from dual;
ERROR:  string is not simple SQL name
select dbms_assert.sql_object_name(NULL) from dual;
ERROR:  invalid object name
select dbms_assert.sql_object_name(NULL) from dual;
ERROR:  invalid object name
------------------------------------------------------------------------------------------------------------------------
-----dbms_assert.enquote_literal
select dbms_assert.enquote_literal('opentenbase no quotes') from dual;
  ENQUOTE_LITERAL  
-------------------
 'opentenbase no quotes'
(1 row)

select dbms_assert.enquote_literal('''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''') from dual;
 ENQUOTE_LITERAL 
-----------------
 ''
(1 row)

select dbms_assert.enquote_literal('''''''''') from dual;
 ENQUOTE_LITERAL 
-----------------
 ''''
(1 row)

select dbms_assert.enquote_literal(''' h2 opentenbase') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''h4 opentenbase') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''''h6 opentenbase') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''''''h8 opentenbase') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('opentenbase t4''''') from dual;
 ENQUOTE_LITERAL 
-----------------
 'opentenbase t4'''
(1 row)

select dbms_assert.enquote_literal('opentenbase t2''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('opentenbase t6''''''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('opentenbase t8''''''''') from dual;
 ENQUOTE_LITERAL 
-----------------
 'opentenbase t8'''''
(1 row)

select dbms_assert.enquote_literal('m4''''opentenbase') from dual;
 ENQUOTE_LITERAL 
-----------------
 'm4''opentenbase'
(1 row)

select dbms_assert.enquote_literal('m8''''''''opentenbase') from dual;
 ENQUOTE_LITERAL 
-----------------
 'm8''''opentenbase'
(1 row)

select dbms_assert.enquote_literal('m2''opentenbase') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('m6''''''opentenbase') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''h2t2 opentenbase''') from dual;
 ENQUOTE_LITERAL 
-----------------
 'h2t2 opentenbase'
(1 row)

select dbms_assert.enquote_literal('''h2t6 opentenbase''''''') from dual;
 ENQUOTE_LITERAL 
-----------------
 'h2t6 opentenbase'''
(1 row)

select dbms_assert.enquote_literal('''h2t4 opentenbase''''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''h2t8 opentenbase''''''''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''h4t2 opentenbase''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''h4t4 opentenbase''''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''h4t6 opentenbase''''''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''h4t8 opentenbase''''''''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''''h6t6 opentenbase''''''') from dual;
 ENQUOTE_LITERAL  
------------------
 '''h6t6 opentenbase'''
(1 row)

select dbms_assert.enquote_literal('''''''h6t2 opentenbase''') from dual;
 ENQUOTE_LITERAL 
-----------------
 '''h6t2 opentenbase'
(1 row)

select dbms_assert.enquote_literal('''''''h6t4 opentenbase''''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''''h6t8 opentenbase''''''''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''''''h8t8 opentenbase''''''''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''''''h8t6 opentenbase''''''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''''''h8t4 opentenbase''''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('''''''''h8t2 opentenbase''') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('h''''h4t4'''' opentenbase''''t') from dual;
   ENQUOTE_LITERAL    
----------------------
 'h''h4t4'' opentenbase''t'
(1 row)

select dbms_assert.enquote_literal('h''''h4''t4'' opentenbase''''t') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('h''''h4''t4'''' opentenbase''''t') from dual;
ERROR:  numeric or value error
select dbms_assert.enquote_literal('h''''h4''''t4'''' opentenbase''''t') from dual;
    ENQUOTE_LITERAL     
------------------------
 'h''h4''t4'' opentenbase''t'
(1 row)

-----dbms_assert.simple_sql_name
select dbms_assert.simple_sql_name('abc$') from dual;
 SIMPLE_SQL_NAME 
-----------------
 abc$
(1 row)

select dbms_assert.simple_sql_name('1abc') from dual;
ERROR:  string is not simple SQL name
select dbms_assert.simple_sql_name('abc¡ã?1t') from dual;
ERROR:  invalid byte sequence for encoding "UTF8": 0xa1
-----dbms_assert.enquote_name
select dbms_assert.enquote_name('_a321bcde') from dual;
 ENQUOTE_NAME 
--------------
 "_A321BCDE"
(1 row)

select dbms_assert.enquote_name('a321bcde') from dual;
 ENQUOTE_NAME 
--------------
 "A321BCDE"
(1 row)

select dbms_assert.enquote_name('a321bcde', true) from dual;
 ENQUOTE_NAME 
--------------
 "a321bcde"
(1 row)

select dbms_assert.enquote_name('abcde') from dual;
 ENQUOTE_NAME 
--------------
 "ABCDE"
(1 row)

 
create sequence dbms_assert_demo_seq_abc_20231224; 
create or replace procedure dbms_assert_demo_proc(seed int) as
$$
begin
end;
$$LANGUAGE default_plsql;
create table "dbms_assert_demo_table?D1¨²"(id integer);
ERROR:  invalid byte sequence for encoding "UTF8": 0xa8
create table dbms_assert_demo_hint_t7_20231224(f1 integer,f2 integer) ;
create index dbms_assert_demo_hint_t7_f1_index_20231224 on dbms_assert_demo_hint_t7_20231224(f1);
----dbms_assert.sql_object_name
select dbms_assert.sql_object_name('dbms_assert_demo_proc') from dual;
ERROR:  invalid object name
select dbms_assert.sql_object_name('dbms_assert_demo_seq_abc_20231224') from dual;
          SQL_OBJECT_NAME          
-----------------------------------
 dbms_assert_demo_seq_abc_20231224
(1 row)

select dbms_assert.sql_object_name('dbms_assert_demo_table?D1¨²') from dual;
ERROR:  invalid byte sequence for encoding "UTF8": 0xa8
select dbms_assert.sql_object_name('dbms_assert_demo_hint_t7_20231224') from dual;
          SQL_OBJECT_NAME          
-----------------------------------
 dbms_assert_demo_hint_t7_20231224
(1 row)

select dbms_assert.sql_object_name('dbms_assert_demo_hint_t7_f1_index_20231224') from dual;
              SQL_OBJECT_NAME               
--------------------------------------------
 dbms_assert_demo_hint_t7_f1_index_20231224
(1 row)

----dbms_assert.qualified_sql_name
select dbms_assert.qualified_sql_name('opentenbase$.a.b') from dual;
 QUALIFIED_SQL_NAME 
--------------------
 opentenbase$.a.b
(1 row)

select dbms_assert.qualified_sql_name('opentenbase.a._b') from dual;
ERROR:  string is not qualified SQL name
select dbms_assert.qualified_sql_name('1opentenbase.1a.1b') from dual;
ERROR:  string is not qualified SQL name
select dbms_assert.qualified_sql_name('opentenbase$.a.ab1t') from dual;
 QUALIFIED_SQL_NAME 
--------------------
 opentenbase$.a.ab1t
(1 row)

drop sequence dbms_assert_demo_seq_abc_20231224;
drop procedure dbms_assert_demo_proc;
drop table dbms_assert_demo_hint_t7_20231224;
