create default node group default_group with ("dn1", "dn2", "dn3");
CREATE NODE GROUP
create sharding group to group default_group;
CREATE SHARDING GROUP
clean sharding;
CLEAN SHARDING
create table t(a int, b int);
CREATE TABLE
insert into t select
generate_series(1,100);
INSERT 0 100
update
t set b=a*a;
UPDATE 100
select * from t order by a;
  a  |   b   
-----+-------
   1 |     1
   2 |     4
   3 |     9
   4 |    16
   5 |    25
   6 |    36
   7 |    49
   8 |    64
   9 |    81
  10 |   100
  11 |   121
  12 |   144
  13 |   169
  14 |   196
  15 |   225
  16 |   256
  17 |   289
  18 |   324
  19 |   361
  20 |   400
  21 |   441
  22 |   484
  23 |   529
  24 |   576
  25 |   625
  26 |   676
  27 |   729
  28 |   784
  29 |   841
  30 |   900
  31 |   961
  32 |  1024
  33 |  1089
  34 |  1156
  35 |  1225
  36 |  1296
  37 |  1369
  38 |  1444
  39 |  1521
  40 |  1600
  41 |  1681
  42 |  1764
  43 |  1849
  44 |  1936
  45 |  2025
  46 |  2116
  47 |  2209
  48 |  2304
  49 |  2401
  50 |  2500
  51 |  2601
  52 |  2704
  53 |  2809
  54 |  2916
  55 |  3025
  56 |  3136
  57 |  3249
  58 |  3364
  59 |  3481
  60 |  3600
  61 |  3721
  62 |  3844
  63 |  3969
  64 |  4096
  65 |  4225
  66 |  4356
  67 |  4489
  68 |  4624
  69 |  4761
  70 |  4900
  71 |  5041
  72 |  5184
  73 |  5329
  74 |  5476
  75 |  5625
  76 |  5776
  77 |  5929
  78 |  6084
  79 |  6241
  80 |  6400
  81 |  6561
  82 |  6724
  83 |  6889
  84 |  7056
  85 |  7225
  86 |  7396
  87 |  7569
  88 |  7744
  89 |  7921
  90 |  8100
  91 |  8281
  92 |  8464
  93 |  8649
  94 |  8836
  95 |  9025
  96 |  9216
  97 |  9409
  98 |  9604
  99 |  9801
 100 | 10000
(100 rows)

select *
 from t order by a;
  a  |   b   
-----+-------
   1 |     1
   2 |     4
   3 |     9
   4 |    16
   5 |    25
   6 |    36
   7 |    49
   8 |    64
   9 |    81
  10 |   100
  11 |   121
  12 |   144
  13 |   169
  14 |   196
  15 |   225
  16 |   256
  17 |   289
  18 |   324
  19 |   361
  20 |   400
  21 |   441
  22 |   484
  23 |   529
  24 |   576
  25 |   625
  26 |   676
  27 |   729
  28 |   784
  29 |   841
  30 |   900
  31 |   961
  32 |  1024
  33 |  1089
  34 |  1156
  35 |  1225
  36 |  1296
  37 |  1369
  38 |  1444
  39 |  1521
  40 |  1600
  41 |  1681
  42 |  1764
  43 |  1849
  44 |  1936
  45 |  2025
  46 |  2116
  47 |  2209
  48 |  2304
  49 |  2401
  50 |  2500
  51 |  2601
  52 |  2704
  53 |  2809
  54 |  2916
  55 |  3025
  56 |  3136
  57 |  3249
  58 |  3364
  59 |  3481
  60 |  3600
  61 |  3721
  62 |  3844
  63 |  3969
  64 |  4096
  65 |  4225
  66 |  4356
  67 |  4489
  68 |  4624
  69 |  4761
  70 |  4900
  71 |  5041
  72 |  5184
  73 |  5329
  74 |  5476
  75 |  5625
  76 |  5776
  77 |  5929
  78 |  6084
  79 |  6241
  80 |  6400
  81 |  6561
  82 |  6724
  83 |  6889
  84 |  7056
  85 |  7225
  86 |  7396
  87 |  7569
  88 |  7744
  89 |  7921
  90 |  8100
  91 |  8281
  92 |  8464
  93 |  8649
  94 |  8836
  95 |  9025
  96 |  9216
  97 |  9409
  98 |  9604
  99 |  9801
 100 | 10000
(100 rows)

select *
 from t order by a;
  a  |   b   
-----+-------
   1 |     1
   2 |     4
   3 |     9
   4 |    16
   5 |    25
   6 |    36
   7 |    49
   8 |    64
   9 |    81
  10 |   100
  11 |   121
  12 |   144
  13 |   169
  14 |   196
  15 |   225
  16 |   256
  17 |   289
  18 |   324
  19 |   361
  20 |   400
  21 |   441
  22 |   484
  23 |   529
  24 |   576
  25 |   625
  26 |   676
  27 |   729
  28 |   784
  29 |   841
  30 |   900
  31 |   961
  32 |  1024
  33 |  1089
  34 |  1156
  35 |  1225
  36 |  1296
  37 |  1369
  38 |  1444
  39 |  1521
  40 |  1600
  41 |  1681
  42 |  1764
  43 |  1849
  44 |  1936
  45 |  2025
  46 |  2116
  47 |  2209
  48 |  2304
  49 |  2401
  50 |  2500
  51 |  2601
  52 |  2704
  53 |  2809
  54 |  2916
  55 |  3025
  56 |  3136
  57 |  3249
  58 |  3364
  59 |  3481
  60 |  3600
  61 |  3721
  62 |  3844
  63 |  3969
  64 |  4096
  65 |  4225
  66 |  4356
  67 |  4489
  68 |  4624
  69 |  4761
  70 |  4900
  71 |  5041
  72 |  5184
  73 |  5329
  74 |  5476
  75 |  5625
  76 |  5776
  77 |  5929
  78 |  6084
  79 |  6241
  80 |  6400
  81 |  6561
  82 |  6724
  83 |  6889
  84 |  7056
  85 |  7225
  86 |  7396
  87 |  7569
  88 |  7744
  89 |  7921
  90 |  8100
  91 |  8281
  92 |  8464
  93 |  8649
  94 |  8836
  95 |  9025
  96 |  9216
  97 |  9409
  98 |  9604
  99 |  9801
 100 | 10000
(100 rows)

select *
 from t order by a;
 a  |  b   
----+------
  2 |    4
  3 |    9
  4 |   16
 11 |  121
 13 |  169
 19 |  361
 24 |  576
 25 |  625
 29 |  841
 32 | 1024
 35 | 1225
 37 | 1369
 40 | 1600
 44 | 1936
 47 | 2209
 49 | 2401
 52 | 2704
 54 | 2916
 55 | 3025
 57 | 3249
 59 | 3481
 61 | 3721
 63 | 3969
 66 | 4356
 69 | 4761
 70 | 4900
 71 | 5041
 73 | 5329
 80 | 6400
 82 | 6724
 84 | 7056
 87 | 7569
 88 | 7744
 90 | 8100
 92 | 8464
 97 | 9409
 98 | 9604
 99 | 9801
(38 rows)

select *
 from t order by a;
  a  |   b   
-----+-------
   5 |    25
   9 |    81
  10 |   100
  15 |   225
  16 |   256
  20 |   400
  22 |   484
  23 |   529
  26 |   676
  27 |   729
  28 |   784
  31 |   961
  33 |  1089
  34 |  1156
  36 |  1296
  38 |  1444
  41 |  1681
  42 |  1764
  53 |  2809
  56 |  3136
  58 |  3364
  62 |  3844
  64 |  4096
  65 |  4225
  68 |  4624
  72 |  5184
  74 |  5476
  75 |  5625
  76 |  5776
  85 |  7225
  86 |  7396
  89 |  7921
  91 |  8281
  94 |  8836
  96 |  9216
 100 | 10000
(36 rows)

select *
 from t order by a;
 a  |  b   
----+------
  1 |    1
  6 |   36
  7 |   49
  8 |   64
 12 |  144
 14 |  196
 17 |  289
 18 |  324
 21 |  441
 30 |  900
 39 | 1521
 43 | 1849
 45 | 2025
 46 | 2116
 48 | 2304
 50 | 2500
 51 | 2601
 60 | 3600
 67 | 4489
 77 | 5929
 78 | 6084
 79 | 6241
 81 | 6561
 83 | 6889
 93 | 8649
 95 | 9025
(26 rows)

select *
 from t order by a;
ERROR:  (XX000) can't do distributed query via fid because it is the main plane standby node.
select *
 from t order by a;
ERROR:  (XX000) can't do distributed query via fid because it is the main plane standby node.
select *
 from t order by a;
ERROR:  (XX000) can't do distributed query via fid because it is the main plane standby node.
select *
 from t order by a;
 a  |  b   
----+------
  2 |    4
  3 |    9
  4 |   16
 11 |  121
 13 |  169
 19 |  361
 24 |  576
 25 |  625
 29 |  841
 32 | 1024
 35 | 1225
 37 | 1369
 40 | 1600
 44 | 1936
 47 | 2209
 49 | 2401
 52 | 2704
 54 | 2916
 55 | 3025
 57 | 3249
 59 | 3481
 61 | 3721
 63 | 3969
 66 | 4356
 69 | 4761
 70 | 4900
 71 | 5041
 73 | 5329
 80 | 6400
 82 | 6724
 84 | 7056
 87 | 7569
 88 | 7744
 90 | 8100
 92 | 8464
 97 | 9409
 98 | 9604
 99 | 9801
(38 rows)

select *
 from t order by a;
  a  |   b   
-----+-------
   5 |    25
   9 |    81
  10 |   100
  15 |   225
  16 |   256
  20 |   400
  22 |   484
  23 |   529
  26 |   676
  27 |   729
  28 |   784
  31 |   961
  33 |  1089
  34 |  1156
  36 |  1296
  38 |  1444
  41 |  1681
  42 |  1764
  53 |  2809
  56 |  3136
  58 |  3364
  62 |  3844
  64 |  4096
  65 |  4225
  68 |  4624
  72 |  5184
  74 |  5476
  75 |  5625
  76 |  5776
  85 |  7225
  86 |  7396
  89 |  7921
  91 |  8281
  94 |  8836
  96 |  9216
 100 | 10000
(36 rows)

select *
 from t order by a;
 a  |  b   
----+------
  1 |    1
  6 |   36
  7 |   49
  8 |   64
 12 |  144
 14 |  196
 17 |  289
 18 |  324
 21 |  441
 30 |  900
 39 | 1521
 43 | 1849
 45 | 2025
 46 | 2116
 48 | 2304
 50 | 2500
 51 | 2601
 60 | 3600
 67 | 4489
 77 | 5929
 78 | 6084
 79 | 6241
 81 | 6561
 83 | 6889
 93 | 8649
 95 | 9025
(26 rows)

