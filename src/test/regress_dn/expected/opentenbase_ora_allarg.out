\c regression_ora
create extension if not exists opentenbase_ora_package_function;
NOTICE:  extension "opentenbase_ora_package_function" already exists, skipping
drop function if exists f3f;
NOTICE:  function F3F() does not exist, skipping
drop procedure if exists p3p;
NOTICE:  procedure P3P() does not exist, skipping
drop function if exists f1f;
NOTICE:  function F1F() does not exist, skipping
drop procedure if exists p5p;
NOTICE:  procedure P5P() does not exist, skipping
create or replace FUNCTION f3f (a int, b out number, c INOUT varchar2) return int is
begin
return a;
end;
/
ERROR:  RETURN cannot have a parameter in function with OUT parameters
LINE 3: return a;
               ^
QUERY:  declare 
begin
return a;
end
create or replace procedure p3p(e int, f out number, g INOUT varchar2) is
aa int;
begin
aa := e;
end;
/
create or replace function f1f(a int, b number default 123) return int is
begin
return a;
end;
/
create or replace procedure p5p(a int, b varchar2 default 'abc', c number default 123, d number default NULL) is
e int;
begin
e := a;
end;
/
create or replace package pkg_fp is
function pf3(pa int, pb out number, pc INOUT varchar2) return int;
procedure pp3(pe int, pf out number, pg INOUT varchar2);
end;
/
create or replace package body pkg_fp is
function pf3(pa int, pb out number, pc INOUT varchar2) return int is
begin
return pa;
end;
procedure pp3(pe int, pf out number, pg INOUT varchar2) is
aa int;
begin
aa := pe;
end;
end;
/
ERROR:  syntax error at or near "aa"
LINE 6: procedure pp3(pe int, pf out number, pg INOUT varchar2) is
                          ^
select object_name, package_name, overload,
	   SUBPROGRAM_ID, ARGUMENT_NAME, position, sequence, 
	   DEFAULTED, DEFAULT_VALUE, IN_OUT, data_length, radix 
from all_arguments where object_name in ('F3F', 'P3P', 'PF3', 'PP3', 'P5P', 'F1F') order by object_name, position;
 OBJECT_NAME | PACKAGE_NAME | OVERLOAD | SUBPROGRAM_ID | ARGUMENT_NAME | POSITION | SEQUENCE | DEFAULTED |  DEFAULT_VALUE  | IN_OUT | DATA_LENGTH | RADIX 
-------------+--------------+----------+---------------+---------------+----------+----------+-----------+-----------------+--------+-------------+-------
 F1F         |              |          |               |               |        0 |        1 | 0         |                 | OUT    |           4 |    10
 F1F         |              |          |               | A             |        1 |        2 | 1         | 123             | IN     |           4 |    10
 F1F         |              |          |               | B             |        2 |        3 | 0         |                 | IN     |             |    10
 P3P         |              |          |               | E             |        1 |        1 | 0         |                 | IN     |           4 |    10
 P3P         |              |          |               | F             |        2 |        2 | 0         |                 | OUT    |             |    10
 P3P         |              |          |               | G             |        3 |        3 | 0         |                 | INOUT  |             |      
 P5P         |              |          |               | A             |        1 |        1 | 0         |                 | IN     |           4 |    10
 P5P         |              |          |               | B             |        2 |        2 | 1         | 'abc'::VARCHAR2 | IN     |             |      
 P5P         |              |          |               | C             |        3 |        3 | 1         | 123             | IN     |             |    10
 P5P         |              |          |               | D             |        4 |        4 | 1         | NULL::NUMERIC   | IN     |             |    10
(10 rows)

drop function f3f;
ERROR:  could not find a function named "F3F"
drop procedure p3p;
drop function f1f;
drop procedure p5p;
drop package pkg_fp;
drop extension opentenbase_ora_package_function;
